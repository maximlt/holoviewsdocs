
<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>holoviews.streams â€” HoloViews v1.14.7a1</title>
<link href="../../_static/css/theme.css" rel="stylesheet"/>
<link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet"/>
<link href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css" rel="stylesheet"/>
<link as="font" crossorigin="" href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2" rel="preload" type="font/woff2"/>
<link as="font" crossorigin="" href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2" rel="preload" type="font/woff2"/>
<link href="../../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/css/blank.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/togglebutton.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/mystnb.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/graphviz.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/copybutton.css" rel="stylesheet" type="text/css">
<link href="../../_static/nbsite.css" rel="stylesheet" type="text/css">
<link href="../../_static/css/custom.css" rel="stylesheet" type="text/css">
<link as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js" rel="preload">
<script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
<script src="../../_static/jquery.js"></script>
<script src="../../_static/underscore.js"></script>
<script src="../../_static/doctools.js"></script>
<script src="../../_static/togglebutton.js"></script>
<script src="../../_static/clipboard.min.js"></script>
<script src="../../_static/copybutton.js"></script>
<script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
<link href="../../_static/favicon.ico" rel="shortcut icon"/>
<link href="../../about.html" rel="author" title="About these documents">
<link href="../../genindex.html" rel="index" title="Index">
<link href="../../search.html" rel="search" title="Search"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="None" name="docsearch:language"/>
<!-- Google Analytics -->
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-61554933-1', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>
</link></link></link></link></link></link></head>
<body data-offset="80" data-spy="scroll" data-target="#bd-toc-nav">
<div class="container-fluid" id="banner"></div>
<nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">
<div id="navbar-start">
<a class="navbar-brand" href="../../index.html">
<img alt="logo" class="logo" src="../../_static/logo_horizontal.png"/>
</a>
</div>
<button aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#navbar-collapsible" data-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="col-lg-9 collapse navbar-collapse" id="navbar-collapsible">
<div class="mr-auto" id="navbar-center">
<div class="navbar-center-item">
<ul class="navbar-nav" id="navbar-main-elements">
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../../index.html">
  Home
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../../reference/index.html">
  Reference Gallery
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../../releases.html">
  Releases
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../../reference_manual/index.html">
  API
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../../FAQ.html">
  FAQ
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../../roadmap.html">
  Roadmap
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference external nav-link" href="https://github.com/holoviz/holoviews">
  Github source
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../../about.html">
  About
 </a>
</li>
</ul>
</div>
</div>
<div id="navbar-end">
<div class="navbar-end-item">
<ul aria-label="Icon Links" class="navbar-nav" id="navbar-icon-links">
<li class="nav-item">
<a class="nav-link" href="https://github.com/holoviz/holoviews" rel="noopener" target="_blank" title="GitHub">
<span><i class="fab fa-github-square"></i></span>
<label class="sr-only">GitHub</label>
</a>
</li>
<li class="nav-item">
<a class="nav-link" href="https://twitter.com/holoviews" rel="noopener" target="_blank" title="Twitter">
<span><i class="fab fa-twitter-square"></i></span>
<label class="sr-only">Twitter</label>
</a>
</li>
<li class="nav-item">
<a class="nav-link" href="https://discourse.holoviz.org/" rel="noopener" target="_blank" title="Discourse">
<span><i class="fab fa-discourse"></i></span>
<label class="sr-only">Discourse</label>
</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</nav>
<div class="container-xl">
<div class="row">
<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="col-12 col-md-3 bd-sidebar"><form action="../../search.html" class="bd-search d-flex align-items-center" method="get">
<i class="icon fas fa-search"></i>
<input aria-label="Search the docs ..." autocomplete="off" class="form-control" id="search-input" name="q" placeholder="Search the docs ..." type="search"/>
</form><nav aria-label="Main navigation" class="bd-links" id="bd-docs-nav">
<div class="bd-toc-item active">
</div>
</nav>
</div>
<div class="d-none d-xl-block col-xl-2 bd-toc">
</div>
<main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
<div>
<h1>Source code for holoviews.streams</h1><div class="highlight"><pre>
<span></span><span class="sd">"""</span>
<span class="sd">The streams module defines the streams API that allows visualizations to</span>
<span class="sd">generate and respond to events, originating either in Python on the</span>
<span class="sd">server-side or in Javascript in the Jupyter notebook (client-side).</span>
<span class="sd">"""</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">weakref</span>
<span class="kn">from</span> <span class="nn">numbers</span> <span class="kn">import</span> <span class="n">Number</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">groupby</span>
<span class="kn">from</span> <span class="nn">types</span> <span class="kn">import</span> <span class="n">FunctionType</span>

<span class="kn">import</span> <span class="nn">param</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">.core</span> <span class="kn">import</span> <span class="n">util</span>
<span class="kn">from</span> <span class="nn">.core.ndmapping</span> <span class="kn">import</span> <span class="n">UniformNdMapping</span>

<span class="c1"># Types supported by Pointer derived streams</span>
<span class="n">pointer_types</span> <span class="o">=</span> <span class="p">(</span><span class="n">Number</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span><span class="o">+</span><span class="n">util</span><span class="o">.</span><span class="n">datetime_types</span>

<span class="k">class</span> <span class="nc">_SkipTrigger</span><span class="p">():</span> <span class="k">pass</span>


<div class="viewcode-block" id="triggering_streams"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.triggering_streams">[docs]</a><span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">triggering_streams</span><span class="p">(</span><span class="n">streams</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Temporarily declares the streams as being in a triggered state.</span>
<span class="sd">    Needed by DynamicMap to determine whether to memoize on a Callable,</span>
<span class="sd">    i.e. if a stream has memoization disabled and is in triggered state</span>
<span class="sd">    Callable should disable lookup in the memoization cache. This is</span>
<span class="sd">    done by the dynamicmap_memoization context manager.</span>
<span class="sd">    """</span>
    <span class="k">for</span> <span class="n">stream</span> <span class="ow">in</span> <span class="n">streams</span><span class="p">:</span>
        <span class="n">stream</span><span class="o">.</span><span class="n">_triggering</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">yield</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">stream</span> <span class="ow">in</span> <span class="n">streams</span><span class="p">:</span>
            <span class="n">stream</span><span class="o">.</span><span class="n">_triggering</span> <span class="o">=</span> <span class="kc">False</span></div>


<div class="viewcode-block" id="streams_list_from_dict"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.streams_list_from_dict">[docs]</a><span class="k">def</span> <span class="nf">streams_list_from_dict</span><span class="p">(</span><span class="n">streams</span><span class="p">):</span>
    <span class="s2">"Converts a streams dictionary into a streams list"</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">streams</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="s1">'panel'</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
            <span class="kn">from</span> <span class="nn">panel.depends</span> <span class="kn">import</span> <span class="n">param_value_if_widget</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">param_value_if_widget</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">)</span> <span class="ow">and</span> <span class="n">v</span><span class="o">.</span><span class="n">owner</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">'Cannot handle value </span><span class="si">%r</span><span class="s1"> in streams dictionary'</span> <span class="o">%</span> <span class="n">v</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Params</span><span class="o">.</span><span class="n">from_params</span><span class="p">(</span><span class="n">params</span><span class="p">)</span></div>


<div class="viewcode-block" id="Stream"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Stream">[docs]</a><span class="k">class</span> <span class="nc">Stream</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">Parameterized</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A Stream is simply a parameterized object with parameters that</span>
<span class="sd">    change over time in response to update events and may trigger</span>
<span class="sd">    downstream events on its subscribers. The Stream parameters can be</span>
<span class="sd">    updated using the update method, which will optionally trigger the</span>
<span class="sd">    stream. This will notify the subscribers which may be supplied as</span>
<span class="sd">    a list of callables or added later using the add_subscriber</span>
<span class="sd">    method. The subscribers will be passed a dictionary mapping of the</span>
<span class="sd">    parameters of the stream, which are available on the instance as</span>
<span class="sd">    the ``contents``.</span>

<span class="sd">    Depending on the plotting backend certain streams may</span>
<span class="sd">    interactively subscribe to events and changes by the plotting</span>
<span class="sd">    backend. For this purpose use the LinkedStream baseclass, which</span>
<span class="sd">    enables the linked option by default. A source for the linking may</span>
<span class="sd">    be supplied to the constructor in the form of another viewable</span>
<span class="sd">    object specifying which part of a plot the data should come from.</span>

<span class="sd">    The transient option allows treating stream events as discrete</span>
<span class="sd">    updates, resetting the parameters to their default after the</span>
<span class="sd">    stream has been triggered. A downstream callback can therefore</span>
<span class="sd">    determine whether a stream is active by checking whether the</span>
<span class="sd">    stream values match the default (usually None).</span>

<span class="sd">    The Stream class is meant for subclassing and subclasses should</span>
<span class="sd">    generally add one or more parameters but may also override the</span>
<span class="sd">    transform and reset method to preprocess parameters before they</span>
<span class="sd">    are passed to subscribers and reset them using custom logic</span>
<span class="sd">    respectively.</span>
<span class="sd">    """</span>

    <span class="c1"># Mapping from a source to a list of streams</span>
    <span class="c1"># WeakKeyDictionary to allow garbage collection</span>
    <span class="c1"># of unreferenced sources</span>
    <span class="n">registry</span> <span class="o">=</span> <span class="n">weakref</span><span class="o">.</span><span class="n">WeakKeyDictionary</span><span class="p">()</span>

    <span class="c1"># Mapping to define callbacks by backend and Stream type.</span>
    <span class="c1"># e.g. Stream._callbacks['bokeh'][Stream] = Callback</span>
    <span class="n">_callbacks</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>


<div class="viewcode-block" id="Stream.define"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Stream.define">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">define</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Utility to quickly and easily declare Stream classes. Designed</span>
<span class="sd">        for interactive use such as notebooks and shouldn't replace</span>
<span class="sd">        parameterized class definitions in source code that is imported.</span>

<span class="sd">        Takes a stream class name and a set of keywords where each</span>
<span class="sd">        keyword becomes a parameter. If the value is already a</span>
<span class="sd">        parameter, it is simply used otherwise the appropriate parameter</span>
<span class="sd">        type is inferred and declared, using the value as the default.</span>

<span class="sd">        Supported types: bool, int, float, str, dict, tuple and list</span>
<span class="sd">        """</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'name'</span><span class="p">:</span> <span class="n">param</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">name</span><span class="p">)}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">kws</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">v</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">):</span>
                <span class="n">params</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
                <span class="n">params</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Boolean</span><span class="p">(</span><span class="o">**</span><span class="n">kws</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                <span class="n">params</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="o">**</span><span class="n">kws</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
                <span class="n">params</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Number</span><span class="p">(</span><span class="o">**</span><span class="n">kws</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">params</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="o">**</span><span class="n">kws</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="n">params</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Dict</span><span class="p">(</span><span class="o">**</span><span class="n">kws</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="n">params</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Tuple</span><span class="p">(</span><span class="o">**</span><span class="n">kws</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                <span class="n">params</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="o">**</span><span class="n">kws</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
                <span class="n">params</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Array</span><span class="p">(</span><span class="o">**</span><span class="n">kws</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">params</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="o">**</span><span class="n">kws</span><span class="p">)</span>

        <span class="c1"># Dynamic class creation using type</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="p">(</span><span class="n">Stream</span><span class="p">,),</span> <span class="n">params</span><span class="p">)</span></div>


<div class="viewcode-block" id="Stream.trigger"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Stream.trigger">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">trigger</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">streams</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Given a list of streams, collect all the stream parameters into</span>
<span class="sd">        a dictionary and pass it to the union set of subscribers.</span>

<span class="sd">        Passing multiple streams at once to trigger can be useful when a</span>
<span class="sd">        subscriber may be set multiple times across streams but only</span>
<span class="sd">        needs to be called once.</span>
<span class="sd">        """</span>
        <span class="c1"># Union of stream contents</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">stream</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">for</span> <span class="n">stream</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">streams</span><span class="p">)]</span>
        <span class="n">union</span> <span class="o">=</span> <span class="p">[</span><span class="n">kv</span> <span class="k">for</span> <span class="n">kvs</span> <span class="ow">in</span> <span class="n">items</span> <span class="k">for</span> <span class="n">kv</span> <span class="ow">in</span> <span class="n">kvs</span><span class="p">]</span>
        <span class="n">klist</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">union</span><span class="p">]</span>
        <span class="n">key_clashes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">union</span><span class="p">:</span>
            <span class="n">key_count</span> <span class="o">=</span> <span class="n">klist</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">value_count</span> <span class="o">=</span> <span class="n">union</span><span class="o">.</span><span class="n">count</span><span class="p">((</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">))</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="c1"># If we can't compare values we assume they are not equal</span>
                <span class="n">value_count</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">key_count</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">key_count</span> <span class="o">&gt;</span> <span class="n">value_count</span> <span class="ow">and</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">key_clashes</span><span class="p">:</span>
                <span class="n">key_clashes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">key_clashes</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">'Parameter name clashes for keys </span><span class="si">%r</span><span class="s1">'</span> <span class="o">%</span> <span class="n">key_clashes</span><span class="p">)</span>

        <span class="c1"># Group subscribers by precedence while keeping the ordering</span>
        <span class="c1"># within each group</span>
        <span class="n">subscriber_precedence</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">stream</span> <span class="ow">in</span> <span class="n">streams</span><span class="p">:</span>
            <span class="n">stream</span><span class="o">.</span><span class="n">_on_trigger</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">precedence</span><span class="p">,</span> <span class="n">subscriber</span> <span class="ow">in</span> <span class="n">stream</span><span class="o">.</span><span class="n">_subscribers</span><span class="p">:</span>
                <span class="n">subscriber_precedence</span><span class="p">[</span><span class="n">precedence</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subscriber</span><span class="p">)</span>
        <span class="n">sorted_subscribers</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">subscriber_precedence</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">subscribers</span> <span class="o">=</span> <span class="n">util</span><span class="o">.</span><span class="n">unique_iterator</span><span class="p">([</span><span class="n">s</span> <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">subscribers</span> <span class="ow">in</span> <span class="n">sorted_subscribers</span>
                                            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subscribers</span><span class="p">])</span>

        <span class="k">with</span> <span class="n">triggering_streams</span><span class="p">(</span><span class="n">streams</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">subscriber</span> <span class="ow">in</span> <span class="n">subscribers</span><span class="p">:</span>
                <span class="n">subscriber</span><span class="p">(</span><span class="o">**</span><span class="nb">dict</span><span class="p">(</span><span class="n">union</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">stream</span> <span class="ow">in</span> <span class="n">streams</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">util</span><span class="o">.</span><span class="n">disable_constant</span><span class="p">(</span><span class="n">stream</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">stream</span><span class="o">.</span><span class="n">transient</span><span class="p">:</span>
                    <span class="n">stream</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span></div>


    <span class="k">def</span> <span class="nf">_on_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Called when a stream has been triggered"""</span>


    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_process_streams</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">streams</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Processes a list of streams promoting Parameterized objects and</span>
<span class="sd">        methods to Param based streams.</span>
<span class="sd">        """</span>
        <span class="n">parameterizeds</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">set</span><span class="p">)</span>
        <span class="n">valid</span><span class="p">,</span> <span class="n">invalid</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">streams</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">partial</span><span class="p">):</span>
                <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">func</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">Stream</span><span class="p">):</span>
                <span class="k">pass</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">):</span>
                <span class="n">s</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameterized</span><span class="p">):</span>
                <span class="n">s</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">util</span><span class="o">.</span><span class="n">is_param_method</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s2">"_dinfo"</span><span class="p">):</span>
                    <span class="k">continue</span>
                <span class="n">s</span> <span class="o">=</span> <span class="n">ParamMethod</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">FunctionType</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s2">"_dinfo"</span><span class="p">):</span>
                <span class="n">deps</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">_dinfo</span>
                <span class="n">dep_params</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">deps</span><span class="p">[</span><span class="s1">'dependencies'</span><span class="p">])</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">deps</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'kw'</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
                <span class="n">rename</span> <span class="o">=</span> <span class="p">{(</span><span class="n">p</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">):</span> <span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">deps</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'kw'</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
                <span class="n">s</span> <span class="o">=</span> <span class="n">Params</span><span class="p">(</span><span class="n">parameters</span><span class="o">=</span><span class="n">dep_params</span><span class="p">,</span> <span class="n">rename</span><span class="o">=</span><span class="n">rename</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">invalid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">Params</span><span class="p">):</span>
                <span class="n">pid</span> <span class="o">=</span> <span class="nb">id</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">parameterized</span><span class="p">)</span>
                <span class="n">overlap</span> <span class="o">=</span> <span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">parameters</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">parameterizeds</span><span class="p">[</span><span class="n">pid</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">overlap</span><span class="p">:</span>
                    <span class="n">pname</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">parameterized</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span>
                    <span class="n">param</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                        <span class="s1">'The </span><span class="si">%s</span><span class="s1"> parameter(s) on the </span><span class="si">%s</span><span class="s1"> object have '</span>
                        <span class="s1">'already been supplied in another stream. '</span>
                        <span class="s1">'Ensure that the supplied streams only specify '</span>
                        <span class="s1">'each parameter once, otherwise multiple '</span>
                        <span class="s1">'events will be triggered when the parameter '</span>
                        <span class="s1">'changes.'</span> <span class="o">%</span> <span class="p">(</span><span class="nb">sorted</span><span class="p">([</span><span class="n">p</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">overlap</span><span class="p">]),</span> <span class="n">pname</span><span class="p">))</span>
                <span class="n">parameterizeds</span><span class="p">[</span><span class="n">pid</span><span class="p">]</span> <span class="o">|=</span> <span class="nb">set</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">parameters</span><span class="p">)</span>
            <span class="n">valid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">valid</span><span class="p">,</span> <span class="n">invalid</span>


    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rename</span><span class="o">=</span><span class="p">{},</span> <span class="n">source</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">subscribers</span><span class="o">=</span><span class="p">[],</span> <span class="n">linked</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">transient</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        The rename argument allows multiple streams with similar event</span>
<span class="sd">        state to be used by remapping parameter names.</span>

<span class="sd">        Source is an optional argument specifying the HoloViews</span>
<span class="sd">        datastructure that the stream receives events from, as supported</span>
<span class="sd">        by the plotting backend.</span>

<span class="sd">        Some streams are configured to automatically link to the source</span>
<span class="sd">        plot, to disable this set linked=False</span>
<span class="sd">        """</span>

        <span class="c1"># Source is stored as a weakref to allow it to be garbage collected</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_source</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">source</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">weakref</span><span class="o">.</span><span class="n">ref</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_subscribers</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">subscriber</span> <span class="ow">in</span> <span class="n">subscribers</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_subscriber</span><span class="p">(</span><span class="n">subscriber</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">linked</span> <span class="o">=</span> <span class="n">linked</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transient</span> <span class="o">=</span> <span class="n">transient</span>

        <span class="c1"># Whether this stream is currently triggering its subscribers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_triggering</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># The metadata may provide information about the currently</span>
        <span class="c1"># active event, i.e. the source of the stream values may</span>
        <span class="c1"># indicate where the event originated from</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_metadata</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_rename</span><span class="p">(</span><span class="n">rename</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">source</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">source</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">registry</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">registry</span><span class="p">[</span><span class="n">source</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">registry</span><span class="p">[</span><span class="n">source</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>

<div class="viewcode-block" id="Stream.clone"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Stream.clone">[docs]</a>    <span class="k">def</span> <span class="nf">clone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Return new stream with identical properties and no subscribers"""</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">subscribers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Property returning the subscriber list"""</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">s</span> <span class="k">for</span> <span class="n">p</span><span class="p">,</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_subscribers</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span>


<div class="viewcode-block" id="Stream.clear"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Stream.clear">[docs]</a>    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">policy</span><span class="o">=</span><span class="s1">'all'</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Clear all subscribers registered to this stream.</span>

<span class="sd">        The default policy of 'all' clears all subscribers. If policy is</span>
<span class="sd">        set to 'user', only subscribers defined by the user are cleared</span>
<span class="sd">        (precedence between zero and one). A policy of 'internal' clears</span>
<span class="sd">        subscribers with precedence greater than unity used internally</span>
<span class="sd">        by HoloViews.</span>
<span class="sd">        """</span>
        <span class="n">policies</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'all'</span><span class="p">,</span> <span class="s1">'user'</span><span class="p">,</span> <span class="s1">'internal'</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">policy</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">policies</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">'Policy for clearing subscribers must be one of </span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="n">policies</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">policy</span> <span class="o">==</span> <span class="s1">'all'</span><span class="p">:</span>
            <span class="n">remaining</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">elif</span> <span class="n">policy</span> <span class="o">==</span> <span class="s1">'user'</span><span class="p">:</span>
            <span class="n">remaining</span> <span class="o">=</span> <span class="p">[(</span><span class="n">p</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subscribers</span> <span class="k">if</span> <span class="n">p</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">remaining</span> <span class="o">=</span> <span class="p">[(</span><span class="n">p</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_subscribers</span> <span class="k">if</span> <span class="n">p</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_subscribers</span> <span class="o">=</span> <span class="n">remaining</span></div>


<div class="viewcode-block" id="Stream.reset"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Stream.reset">[docs]</a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Resets stream parameters to their defaults.</span>
<span class="sd">        """</span>
        <span class="k">with</span> <span class="n">util</span><span class="o">.</span><span class="n">disable_constant</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">objects</span><span class="p">(</span><span class="s1">'existing'</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="s1">'name'</span><span class="p">:</span>
                    <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">default</span><span class="p">)</span></div>


<div class="viewcode-block" id="Stream.add_subscriber"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Stream.add_subscriber">[docs]</a>    <span class="k">def</span> <span class="nf">add_subscriber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">subscriber</span><span class="p">,</span> <span class="n">precedence</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Register a callable subscriber to this stream which will be</span>
<span class="sd">        invoked either when event is called or when this stream is</span>
<span class="sd">        passed to the trigger classmethod.</span>

<span class="sd">        Precedence allows the subscriber ordering to be</span>
<span class="sd">        controlled. Users should only add subscribers with precedence</span>
<span class="sd">        between zero and one while HoloViews itself reserves the use of</span>
<span class="sd">        higher precedence values. Subscribers with high precedence are</span>
<span class="sd">        invoked later than ones with low precedence.</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">callable</span><span class="p">(</span><span class="n">subscriber</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">'Subscriber must be a callable.'</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_subscribers</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">precedence</span><span class="p">,</span> <span class="n">subscriber</span><span class="p">))</span></div>


    <span class="k">def</span> <span class="nf">_validate_rename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapping</span><span class="p">):</span>
        <span class="n">param_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">param</span> <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="s1">'name'</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">mapping</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">param_names</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s1">'Cannot rename </span><span class="si">%r</span><span class="s1"> as it is not a stream parameter'</span> <span class="o">%</span> <span class="n">k</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="n">v</span> <span class="ow">and</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">param_names</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s1">'Cannot rename to </span><span class="si">%r</span><span class="s1"> as it clashes with a '</span>
                               <span class="s1">'stream parameter of the same name'</span> <span class="o">%</span> <span class="n">v</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">mapping</span>


<div class="viewcode-block" id="Stream.rename"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Stream.rename">[docs]</a>    <span class="k">def</span> <span class="nf">rename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">mapping</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        The rename method allows stream parameters to be allocated to</span>
<span class="sd">        new names to avoid clashes with other stream parameters of the</span>
<span class="sd">        same name. Returns a new clone of the stream instance with the</span>
<span class="sd">        specified name mapping.</span>
<span class="sd">        """</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">get_param_values</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="s1">'name'</span><span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span><span class="n">rename</span><span class="o">=</span><span class="n">mapping</span><span class="p">,</span>
                              <span class="n">source</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_source</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_source</span> <span class="k">else</span> <span class="kc">None</span><span class="p">),</span>
                              <span class="n">linked</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">linked</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_source</span><span class="p">()</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_source</span> <span class="k">else</span> <span class="kc">None</span>


    <span class="nd">@source</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">source_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">registry</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span> <span class="ow">in</span> <span class="n">source_list</span><span class="p">:</span>
                <span class="n">source_list</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">source_list</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">registry</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">source</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_source</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_source</span> <span class="o">=</span> <span class="n">weakref</span><span class="o">.</span><span class="n">ref</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">source</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">registry</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">registry</span><span class="p">[</span><span class="n">source</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">registry</span><span class="p">[</span><span class="n">source</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span>


<div class="viewcode-block" id="Stream.transform"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Stream.transform">[docs]</a>    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Method that can be overwritten by subclasses to process the</span>
<span class="sd">        parameter values before renaming is applied. Returns a</span>
<span class="sd">        dictionary of transformed parameters.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="p">{}</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">contents</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">filtered</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">get_param_values</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="s1">'name'</span><span class="p">}</span>
        <span class="k">return</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_rename</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">filtered</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rename</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">hashkey</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        The object the memoization hash is computed from. By default</span>
<span class="sd">        returns the stream contents but can be overridden to provide</span>
<span class="sd">        a custom hash key.</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span>


    <span class="k">def</span> <span class="nf">_set_stream_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Sets the stream parameters which are expected to be declared</span>
<span class="sd">        constant.</span>
<span class="sd">        """</span>
        <span class="k">with</span> <span class="n">util</span><span class="o">.</span><span class="n">disable_constant</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">set_param</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="Stream.event"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Stream.event">[docs]</a>    <span class="k">def</span> <span class="nf">event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Update the stream parameters and trigger an event.</span>
<span class="sd">        """</span>
        <span class="n">skip</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">skip</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">_SkipTrigger</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">trigger</span><span class="p">([</span><span class="bp">self</span><span class="p">])</span></div>

<div class="viewcode-block" id="Stream.update"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Stream.update">[docs]</a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        The update method updates the stream parameters (without any</span>
<span class="sd">        renaming applied) in response to some event. If the stream has a</span>
<span class="sd">        custom transform method, this is applied to transform the</span>
<span class="sd">        parameter values accordingly.</span>

<span class="sd">        To update and trigger, use the event method.</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_stream_parameters</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">transformed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">transformed</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">_SkipTrigger</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_stream_parameters</span><span class="p">(</span><span class="o">**</span><span class="n">transformed</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">cls_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="s1">','</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">'</span><span class="si">%s</span><span class="s1">=</span><span class="si">%r</span><span class="s1">'</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
                          <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">get_param_values</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="s1">'name'</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rename</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">'</span><span class="si">%s</span><span class="s1">(</span><span class="si">%s</span><span class="s1">)'</span> <span class="o">%</span> <span class="p">(</span><span class="n">cls_name</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">'</span><span class="si">%s</span><span class="s1">(</span><span class="si">%r</span><span class="s1">, </span><span class="si">%s</span><span class="s1">)'</span> <span class="o">%</span> <span class="p">(</span><span class="n">cls_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rename</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>


    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>


<div class="viewcode-block" id="Counter"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Counter">[docs]</a><span class="k">class</span> <span class="nc">Counter</span><span class="p">(</span><span class="n">Stream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Simple stream that automatically increments an integer counter</span>
<span class="sd">    parameter every time it is updated.</span>
<span class="sd">    """</span>

    <span class="n">counter</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>

<div class="viewcode-block" id="Counter.transform"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Counter.transform">[docs]</a>    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">'counter'</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">+</span> <span class="mi">1</span><span class="p">}</span></div></div>


<div class="viewcode-block" id="Pipe"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Pipe">[docs]</a><span class="k">class</span> <span class="nc">Pipe</span><span class="p">(</span><span class="n">Stream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A Stream used to pipe arbitrary data to a callback.</span>
<span class="sd">    Unlike other streams memoization can be disabled for a</span>
<span class="sd">    Pipe stream (and is disabled by default).</span>
<span class="sd">    """</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Arbitrary data being streamed to a DynamicMap callback."""</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">memoize</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_memoize_counter</span> <span class="o">=</span> <span class="mi">0</span>

<div class="viewcode-block" id="Pipe.send"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Pipe.send">[docs]</a>    <span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        A convenience method to send an event with data without</span>
<span class="sd">        supplying a keyword.</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_on_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_memoize_counter</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">hashkey</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">'_memoize_key'</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_memoize_counter</span><span class="p">}</span></div>


<div class="viewcode-block" id="Buffer"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Buffer">[docs]</a><span class="k">class</span> <span class="nc">Buffer</span><span class="p">(</span><span class="n">Pipe</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Buffer allows streaming and accumulating incoming chunks of rows</span>
<span class="sd">    from tabular datasets. The data may be in the form of a pandas</span>
<span class="sd">    DataFrame, 2D arrays of rows and columns or dictionaries of column</span>
<span class="sd">    arrays. Buffer will accumulate the last N rows, where N is defined</span>
<span class="sd">    by the specified ``length``. The accumulated data is then made</span>
<span class="sd">    available via the ``data`` parameter.</span>

<span class="sd">    A Buffer may also be instantiated with a streamz.StreamingDataFrame</span>
<span class="sd">    or a streamz.StreamingSeries, it will automatically subscribe to</span>
<span class="sd">    events emitted by a streamz object.</span>

<span class="sd">    When streaming a DataFrame will reset the DataFrame index by</span>
<span class="sd">    default making it available to HoloViews elements as dimensions,</span>
<span class="sd">    this may be disabled by setting index=False.</span>

<span class="sd">    The ``following`` argument determines whether any plot which is</span>
<span class="sd">    subscribed to this stream will update the axis ranges when an</span>
<span class="sd">    update is pushed. This makes it possible to control whether zooming</span>
<span class="sd">    is allowed while streaming.</span>
<span class="sd">    """</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Arbitrary data being streamed to a DynamicMap callback."""</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">following</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">util</span><span class="o">.</span><span class="n">pd</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">util</span><span class="o">.</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)):</span>
            <span class="n">example</span> <span class="o">=</span> <span class="n">data</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">ndim</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Only 2D array data may be streamed by Buffer."</span><span class="p">)</span>
            <span class="n">example</span> <span class="o">=</span> <span class="n">data</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Data in dictionary must be of array types."</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Columns in dictionary must all be the same length."</span><span class="p">)</span>
            <span class="n">example</span> <span class="o">=</span> <span class="n">data</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="kn">from</span> <span class="nn">streamz.dataframe</span> <span class="kn">import</span> <span class="n">StreamingDataFrame</span><span class="p">,</span> <span class="n">StreamingSeries</span>
                <span class="n">loaded</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="kn">from</span> <span class="nn">streamz.dataframe</span> <span class="kn">import</span> <span class="n">DataFrame</span> <span class="k">as</span> <span class="n">StreamingDataFrame</span><span class="p">,</span> <span class="n">Series</span> <span class="k">as</span> <span class="n">StreamingSeries</span>
                    <span class="n">loaded</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
                    <span class="n">loaded</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">loaded</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">StreamingDataFrame</span><span class="p">,</span> <span class="n">StreamingSeries</span><span class="p">)):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Buffer must be initialized with pandas DataFrame, "</span>
                                 <span class="s2">"streamz.StreamingDataFrame or streamz.StreamingSeries."</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">StreamingSeries</span><span class="p">):</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
            <span class="n">example</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">example</span>
            <span class="n">data</span><span class="o">.</span><span class="n">stream</span><span class="o">.</span><span class="n">sink</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sdf</span> <span class="o">=</span> <span class="n">data</span>

        <span class="k">if</span> <span class="n">index</span> <span class="ow">and</span> <span class="p">(</span><span class="n">util</span><span class="o">.</span><span class="n">pd</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">example</span><span class="p">,</span> <span class="n">util</span><span class="o">.</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)):</span>
            <span class="n">example</span> <span class="o">=</span> <span class="n">example</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">params</span><span class="p">[</span><span class="s1">'data'</span><span class="p">]</span> <span class="o">=</span> <span class="n">example</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">length</span> <span class="o">=</span> <span class="n">length</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">following</span> <span class="o">=</span> <span class="n">following</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_chunk_length</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_index</span> <span class="o">=</span> <span class="n">index</span>


<div class="viewcode-block" id="Buffer.verify"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Buffer.verify">[docs]</a>    <span class="k">def</span> <span class="nf">verify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="sd">""" Verify consistency of dataframes that pass through this stream """</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">"Input expected to be of type </span><span class="si">%s</span><span class="s2">, got </span><span class="si">%s</span><span class="s2">."</span> <span class="o">%</span>
                            <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">ndim</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">'Streamed array data must be two-dimensional'</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Streamed array data expeced to have </span><span class="si">%d</span><span class="s2"> columns, "</span>
                                 <span class="s2">"got </span><span class="si">%d</span><span class="s2">."</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">x</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="k">elif</span> <span class="n">util</span><span class="o">.</span><span class="n">pd</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">util</span><span class="o">.</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">list</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s2">"Input expected to have columns </span><span class="si">%s</span><span class="s2">, got </span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span>
                             <span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">columns</span><span class="p">)))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s2">"Input expected to have columns </span><span class="si">%s</span><span class="s2">, got </span><span class="si">%s</span><span class="s2">"</span> <span class="o">%</span>
                                 <span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">keys</span><span class="p">())))</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">"Input columns expected to have the "</span>
                                 <span class="s2">"same number of rows."</span><span class="p">)</span></div>


<div class="viewcode-block" id="Buffer.clear"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Buffer.clear">[docs]</a>    <span class="k">def</span> <span class="nf">clear</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s2">"Clears the data in the stream"</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[:,</span> <span class="p">:</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">util</span><span class="o">.</span><span class="n">pd</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">util</span><span class="o">.</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="p">[:</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="k">with</span> <span class="n">util</span><span class="o">.</span><span class="n">disable_constant</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">_concat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Concatenate and slice the accepted data types to the defined</span>
<span class="sd">        length.</span>
<span class="sd">        """</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
            <span class="n">data_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">data_length</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="p">:</span>
                <span class="n">prev_chunk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="o">-</span><span class="n">data_length</span><span class="p">):]</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">prev_chunk</span><span class="p">,</span> <span class="n">data</span><span class="p">])</span>
            <span class="k">elif</span> <span class="n">data_length</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="p">:]</span>
        <span class="k">elif</span> <span class="n">util</span><span class="o">.</span><span class="n">pd</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">util</span><span class="o">.</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
            <span class="n">data_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">data_length</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="p">:</span>
                <span class="n">prev_chunk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="o">-</span><span class="n">data_length</span><span class="p">):]</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">util</span><span class="o">.</span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">prev_chunk</span><span class="p">,</span> <span class="n">data</span><span class="p">])</span>
            <span class="k">elif</span> <span class="n">data_length</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="p">:]</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)</span> <span class="ow">and</span> <span class="n">data</span><span class="p">:</span>
            <span class="n">data_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">values</span><span class="p">())[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">new_data</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">data_length</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="p">:</span>
                    <span class="n">prev_chunk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="o">-</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="o">-</span><span class="n">data_length</span><span class="p">):]</span>
                    <span class="n">new_data</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">prev_chunk</span><span class="p">,</span> <span class="n">v</span><span class="p">])</span>
                <span class="k">elif</span> <span class="n">data_length</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="p">:</span>
                    <span class="n">new_data</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="p">:]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">new_data</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">new_data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_chunk_length</span> <span class="o">=</span> <span class="n">data_length</span>
        <span class="k">return</span> <span class="n">data</span>


<div class="viewcode-block" id="Buffer.update"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Buffer.update">[docs]</a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Overrides update to concatenate streamed data up to defined length.</span>
<span class="sd">        """</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'data'</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">util</span><span class="o">.</span><span class="n">pd</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">util</span><span class="o">.</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="ow">and</span>
                <span class="nb">list</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_index</span><span class="p">):</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">verify</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s1">'data'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_concat</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_count</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">hashkey</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">'hash'</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_count</span><span class="p">}</span></div>



<div class="viewcode-block" id="Params"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Params">[docs]</a><span class="k">class</span> <span class="nc">Params</span><span class="p">(</span><span class="n">Stream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A Stream that watches the changes in the parameters of the supplied</span>
<span class="sd">    Parameterized objects and triggers when they change.</span>
<span class="sd">    """</span>

    <span class="n">parameterized</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">Parameterized</span><span class="p">,</span>
                                                <span class="n">param</span><span class="o">.</span><span class="n">parameterized</span><span class="o">.</span><span class="n">ParameterizedMetaclass</span><span class="p">),</span>
                                        <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">allow_None</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Parameterized instance to watch for parameter changes."""</span><span class="p">)</span>

    <span class="n">parameters</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">List</span><span class="p">([],</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Parameters on the parameterized to watch."""</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameterized</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">watch</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">watch_only</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">util</span><span class="o">.</span><span class="n">param_version</span> <span class="o">&lt;</span> <span class="s1">'1.8.0'</span> <span class="ow">and</span> <span class="n">watch</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">'Params stream requires param version &gt;= 1.8.0, '</span>
                               <span class="s1">'to support watching parameters.'</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">parameters</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">parameters</span> <span class="o">=</span> <span class="p">[</span><span class="n">parameterized</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">parameterized</span><span class="o">.</span><span class="n">param</span> <span class="k">if</span> <span class="n">p</span> <span class="o">!=</span> <span class="s1">'name'</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">parameters</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">)</span> <span class="k">else</span> <span class="n">parameterized</span><span class="o">.</span><span class="n">param</span><span class="p">[</span><span class="n">p</span><span class="p">]</span>
                          <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">parameters</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">'rename'</span> <span class="ow">in</span> <span class="n">params</span><span class="p">:</span>
            <span class="n">rename</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">owners</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">owner</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">parameters</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">params</span><span class="p">[</span><span class="s1">'rename'</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                    <span class="n">rename</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">rename</span><span class="o">.</span><span class="n">update</span><span class="p">({(</span><span class="n">o</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">owners</span><span class="p">})</span>
            <span class="n">params</span><span class="p">[</span><span class="s1">'rename'</span><span class="p">]</span> <span class="o">=</span> <span class="n">rename</span>

        <span class="k">if</span> <span class="s1">'linked'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">params</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">parameters</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span> <span class="p">(</span><span class="n">LinkedStream</span><span class="p">,</span> <span class="n">Params</span><span class="p">))</span> <span class="ow">and</span> <span class="n">p</span><span class="o">.</span><span class="n">owner</span><span class="o">.</span><span class="n">linked</span><span class="p">:</span>
                    <span class="n">params</span><span class="p">[</span><span class="s1">'linked'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_watch_only</span> <span class="o">=</span> <span class="n">watch_only</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parameterized</span><span class="o">=</span><span class="n">parameterized</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_memoize_counter</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_events</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_watchers</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">watch</span><span class="p">:</span>
            <span class="c1"># Subscribe to parameters</span>
            <span class="n">keyfn</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">id</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">owner</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">groupby</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">keyfn</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="n">keyfn</span><span class="p">):</span>
                <span class="n">group</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">group</span><span class="p">)</span>
                <span class="n">watcher</span> <span class="o">=</span> <span class="n">group</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">owner</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">watch</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_watcher</span><span class="p">,</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">group</span><span class="p">])</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_watchers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">watcher</span><span class="p">)</span>

<div class="viewcode-block" id="Params.unwatch"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Params.unwatch">[docs]</a>    <span class="k">def</span> <span class="nf">unwatch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Stop watching parameters."""</span>
        <span class="k">for</span> <span class="n">watcher</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_watchers</span><span class="p">:</span>
            <span class="n">watcher</span><span class="o">.</span><span class="n">inst</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">unwatch</span><span class="p">(</span><span class="n">watcher</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_watchers</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span></div>

<div class="viewcode-block" id="Params.from_params"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Params.from_params">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_params</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">"""Returns Params streams given a dictionary of parameters</span>

<span class="sd">        Args:</span>
<span class="sd">            params (dict): Dictionary of parameters</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of Params streams</span>
<span class="sd">        """</span>
        <span class="n">key_fn</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">id</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">owner</span><span class="p">)</span>
        <span class="n">streams</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">group</span> <span class="ow">in</span> <span class="n">groupby</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="n">key_fn</span><span class="p">),</span> <span class="n">key_fn</span><span class="p">):</span>
            <span class="n">group</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">group</span><span class="p">)</span>
            <span class="n">inst</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">owner</span> <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">group</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">inst</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">group</span><span class="p">]</span>
            <span class="n">rename</span> <span class="o">=</span> <span class="p">{</span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">n</span> <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">group</span><span class="p">}</span>
            <span class="n">streams</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">cls</span><span class="p">(</span><span class="n">inst</span><span class="p">,</span> <span class="n">names</span><span class="p">,</span> <span class="n">rename</span><span class="o">=</span><span class="n">rename</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">streams</span></div>

    <span class="k">def</span> <span class="nf">_validate_rename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapping</span><span class="p">):</span>
        <span class="n">pnames</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">mapping</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="k">else</span> <span class="n">k</span>
            <span class="k">if</span> <span class="n">n</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pnames</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s1">'Cannot rename </span><span class="si">%r</span><span class="s1"> as it is not a stream parameter'</span> <span class="o">%</span> <span class="n">n</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">n</span> <span class="o">!=</span> <span class="n">v</span> <span class="ow">and</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">pnames</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s1">'Cannot rename to </span><span class="si">%r</span><span class="s1"> as it clashes with a '</span>
                               <span class="s1">'stream parameter of the same name'</span> <span class="o">%</span> <span class="n">v</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">mapping</span>

    <span class="k">def</span> <span class="nf">_watcher</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">events</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_events</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">events</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">trigger</span><span class="p">([</span><span class="bp">self</span><span class="p">])</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_events</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">_on_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s1">'triggered'</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_memoize_counter</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">hashkey</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">hashkey</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">:</span>
            <span class="n">pkey</span> <span class="o">=</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">pname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rename</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pkey</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="n">key</span> <span class="o">=</span> <span class="s1">' '</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">p</span><span class="o">.</span><span class="n">owner</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">pname</span><span class="p">])</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rename</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pkey</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">hashkey</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">hashkey</span><span class="p">[</span><span class="s1">'_memoize_key'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_memoize_counter</span>
        <span class="k">return</span> <span class="n">hashkey</span>

<div class="viewcode-block" id="Params.reset"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Params.reset">[docs]</a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Params.update"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Params.update">[docs]</a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rename</span><span class="p">:</span>
            <span class="n">owner_updates</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">owner</span><span class="p">,</span> <span class="n">pname</span><span class="p">),</span> <span class="n">rname</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rename</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">rname</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                    <span class="n">owner_updates</span><span class="p">[</span><span class="n">owner</span><span class="p">][</span><span class="n">pname</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">rname</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">owner</span><span class="p">,</span> <span class="n">updates</span> <span class="ow">in</span> <span class="n">owner_updates</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">owner</span><span class="p">,</span> <span class="n">Stream</span><span class="p">):</span>
                    <span class="n">owner</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">updates</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">owner</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">set_param</span><span class="p">(</span><span class="o">**</span><span class="n">updates</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parameterized</span><span class="p">,</span> <span class="n">Stream</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameterized</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parameterized</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">set_param</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">contents</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_watch_only</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>
        <span class="n">filtered</span> <span class="o">=</span> <span class="p">{(</span><span class="n">p</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">):</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">owner</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span><span class="p">}</span>
        <span class="k">return</span> <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_rename</span><span class="o">.</span><span class="n">get</span><span class="p">((</span><span class="n">o</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="n">n</span><span class="p">):</span> <span class="n">v</span> <span class="k">for</span> <span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">filtered</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rename</span><span class="o">.</span><span class="n">get</span><span class="p">((</span><span class="n">o</span><span class="p">,</span> <span class="n">n</span><span class="p">),</span> <span class="kc">True</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span></div>



<div class="viewcode-block" id="ParamMethod"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.ParamMethod">[docs]</a><span class="k">class</span> <span class="nc">ParamMethod</span><span class="p">(</span><span class="n">Params</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A Stream that watches the parameter dependencies on a method of</span>
<span class="sd">    a parameterized class and triggers when one of the parameters</span>
<span class="sd">    change.</span>
<span class="sd">    """</span>

    <span class="n">parameterized</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="p">(</span><span class="n">param</span><span class="o">.</span><span class="n">Parameterized</span><span class="p">,</span>
                                                <span class="n">param</span><span class="o">.</span><span class="n">parameterized</span><span class="o">.</span><span class="n">ParameterizedMetaclass</span><span class="p">),</span>
                                        <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">allow_None</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Parameterized instance to watch for parameter changes."""</span><span class="p">)</span>

    <span class="n">parameters</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">List</span><span class="p">([],</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Parameters on the parameterized to watch."""</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameterized</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">watch</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">util</span><span class="o">.</span><span class="n">is_param_method</span><span class="p">(</span><span class="n">parameterized</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">'ParamMethod stream expects a method on a '</span>
                             <span class="s1">'parameterized class, found </span><span class="si">%s</span><span class="s1">.'</span>
                             <span class="o">%</span> <span class="nb">type</span><span class="p">(</span><span class="n">parameterized</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="n">method</span> <span class="o">=</span> <span class="n">parameterized</span>
        <span class="n">parameterized</span> <span class="o">=</span> <span class="n">util</span><span class="o">.</span><span class="n">get_method_owner</span><span class="p">(</span><span class="n">parameterized</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">parameters</span><span class="p">:</span>
            <span class="n">parameters</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">pobj</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">parameterized</span><span class="o">.</span><span class="n">param</span><span class="o">.</span><span class="n">params_depended_on</span><span class="p">(</span><span class="n">method</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)]</span>

        <span class="n">params</span><span class="p">[</span><span class="s1">'watch_only'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parameterized</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">watch</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span></div>


<div class="viewcode-block" id="Derived"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Derived">[docs]</a><span class="k">class</span> <span class="nc">Derived</span><span class="p">(</span><span class="n">Stream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A Stream that watches the parameters of one or more input streams and produces</span>
<span class="sd">    a result that is a pure function of the input stream values.</span>

<span class="sd">    If exclusive=True, then all streams except the most recently updated are cleared.</span>
<span class="sd">    """</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_streams</span><span class="p">,</span> <span class="n">exclusive</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_streams</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_updating</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_register_streams</span><span class="p">(</span><span class="n">input_streams</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exclusive</span> <span class="o">=</span> <span class="n">exclusive</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_register_streams</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">streams</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Register callbacks to watch for changes to input streams</span>
<span class="sd">        """</span>
        <span class="k">for</span> <span class="n">stream</span> <span class="ow">in</span> <span class="n">streams</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_register_stream</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_register_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">):</span>
        <span class="n">i</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_streams</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">perform_update</span><span class="p">(</span><span class="n">stream_index</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">stream_index</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_updating</span><span class="p">:</span>
                <span class="k">return</span>

            <span class="c1"># If exclusive, reset other stream values before triggering event</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">exclusive</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">input_stream</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_streams</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">stream_index</span> <span class="o">!=</span> <span class="n">j</span><span class="p">:</span>
                        <span class="n">input_stream</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_updating</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="n">input_stream</span><span class="o">.</span><span class="n">event</span><span class="p">()</span>
                        <span class="k">finally</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">_updating</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="p">()</span>

        <span class="n">stream</span><span class="o">.</span><span class="n">add_subscriber</span><span class="p">(</span><span class="n">perform_update</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_streams</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_unregister_input_streams</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Unregister callbacks on input streams and clear input streams list</span>
<span class="sd">        """</span>
        <span class="k">for</span> <span class="n">stream</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_streams</span><span class="p">:</span>
            <span class="n">stream</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">stream</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_streams</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

<div class="viewcode-block" id="Derived.append_input_stream"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Derived.append_input_stream">[docs]</a>    <span class="k">def</span> <span class="nf">append_input_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Add a new input stream</span>
<span class="sd">        """</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_register_stream</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">constants</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Dict of constants for this instance that should be passed to transform_function</span>

<span class="sd">        Constant values must not change in response to changes in the values of the</span>
<span class="sd">        input streams. They may, however, change in response to other stream property</span>
<span class="sd">        updates. For example, these values may change if the Stream's source element</span>
<span class="sd">        changes</span>
<span class="sd">        """</span>
        <span class="k">return</span> <span class="p">{}</span>

<div class="viewcode-block" id="Derived.transform"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Derived.transform">[docs]</a>    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">stream_values</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">contents</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_streams</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform_function</span><span class="p">(</span><span class="n">stream_values</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">constants</span><span class="p">)</span></div>

<div class="viewcode-block" id="Derived.transform_function"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Derived.transform_function">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">transform_function</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">stream_values</span><span class="p">,</span> <span class="n">constants</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Pure function that transforms input stream param values into the param values</span>
<span class="sd">        of this Derived stream.</span>

<span class="sd">        Args:</span>
<span class="sd">            stream_values: list of dict</span>
<span class="sd">                Current values of the stream params for each input_stream</span>
<span class="sd">            constants: dict</span>
<span class="sd">                Constants as returned by the constants property of an instance of this</span>
<span class="sd">                stream type.</span>

<span class="sd">        Returns: dict</span>
<span class="sd">            dict of new Stream values where the keys match this stream's params</span>
<span class="sd">        """</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span></div>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_unregister_input_streams</span><span class="p">()</span></div>


<div class="viewcode-block" id="History"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.History">[docs]</a><span class="k">class</span> <span class="nc">History</span><span class="p">(</span><span class="n">Stream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A Stream that maintains a history of the values of a single input stream</span>
<span class="sd">    """</span>
    <span class="n">values</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        List containing the historical values of the input stream"""</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_stream</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_stream</span> <span class="o">=</span> <span class="n">input_stream</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_register_input_stream</span><span class="p">()</span>
        <span class="c1"># Trigger event on input stream after registering so that current value is</span>
        <span class="c1"># added to our values list</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_stream</span><span class="o">.</span><span class="n">event</span><span class="p">()</span>

<div class="viewcode-block" id="History.clone"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.History.clone">[docs]</a>    <span class="k">def</span> <span class="nf">clone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_stream</span><span class="o">.</span><span class="n">clone</span><span class="p">(),</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">clear_history</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">[:]</span>

    <span class="k">def</span> <span class="nf">_register_input_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""</span>
<span class="sd">        Register callback on input_stream to watch for changes</span>
<span class="sd">        """</span>
        <span class="k">def</span> <span class="nf">perform_update</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">input_stream</span><span class="o">.</span><span class="n">add_subscriber</span><span class="p">(</span><span class="n">perform_update</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_stream</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_stream</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">[:]</span></div>


<div class="viewcode-block" id="SelectionExpr"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.SelectionExpr">[docs]</a><span class="k">class</span> <span class="nc">SelectionExpr</span><span class="p">(</span><span class="n">Derived</span><span class="p">):</span>
    <span class="n">selection_expr</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">bbox</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Dict</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">region_element</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">include_region</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">.element</span> <span class="kn">import</span> <span class="n">Element</span>
        <span class="kn">from</span> <span class="nn">.core.spaces</span> <span class="kn">import</span> <span class="n">DynamicMap</span>
        <span class="kn">from</span> <span class="nn">.plotting.util</span> <span class="kn">import</span> <span class="n">initialize_dynamic</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_index_cols</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">'index_cols'</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">include_region</span> <span class="o">=</span> <span class="n">include_region</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">DynamicMap</span><span class="p">):</span>
            <span class="n">initialize_dynamic</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="p">((</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">DynamicMap</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">source</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">Element</span><span class="p">))</span>
                <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">Element</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">"The source of SelectionExpr must be an instance of an "</span>
                <span class="s2">"Element subclass or a DynamicMap that returns such an "</span>
                <span class="s2">"instance. Received value of type </span><span class="si">{typ}</span><span class="s2">: </span><span class="si">{val}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">typ</span><span class="o">=</span><span class="nb">type</span><span class="p">(</span><span class="n">source</span><span class="p">),</span> <span class="n">val</span><span class="o">=</span><span class="n">source</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="n">input_streams</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_selection_streams</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">,</span> <span class="n">input_streams</span><span class="o">=</span><span class="n">input_streams</span><span class="p">,</span> <span class="n">exclusive</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span>
        <span class="p">)</span>

<div class="viewcode-block" id="SelectionExpr.clone"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.SelectionExpr.clone">[docs]</a>    <span class="k">def</span> <span class="nf">clone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)(</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_build_selection_streams</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">holoviews.core.spaces</span> <span class="kn">import</span> <span class="n">DynamicMap</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">DynamicMap</span><span class="p">):</span>
            <span class="n">element_type</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">type</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">element_type</span> <span class="o">=</span> <span class="n">source</span>
        <span class="k">if</span> <span class="n">element_type</span><span class="p">:</span>
            <span class="n">input_streams</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">stream</span> <span class="ow">in</span> <span class="n">element_type</span><span class="o">.</span><span class="n">_selection_streams</span><span class="p">:</span>
                <span class="n">kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="n">Selection1D</span><span class="p">):</span>
                    <span class="n">kwargs</span><span class="p">[</span><span class="s1">'index'</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">input_streams</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">stream</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">input_streams</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">constants</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">"source"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">,</span>
            <span class="s2">"index_cols"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_index_cols</span><span class="p">,</span>
            <span class="s2">"include_region"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">include_region</span><span class="p">,</span>
        <span class="p">}</span>

<div class="viewcode-block" id="SelectionExpr.transform"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.SelectionExpr.transform">[docs]</a>    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Skip index streams if no index_cols are provided</span>
        <span class="k">for</span> <span class="n">stream</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_streams</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="n">Selection1D</span><span class="p">)</span> <span class="ow">and</span> <span class="n">stream</span><span class="o">.</span><span class="n">_triggering</span>
                <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_index_cols</span><span class="p">):</span>
                <span class="k">return</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">transform</span><span class="p">()</span></div>

<div class="viewcode-block" id="SelectionExpr.transform_function"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.SelectionExpr.transform_function">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">transform_function</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">stream_values</span><span class="p">,</span> <span class="n">constants</span><span class="p">):</span>
        <span class="n">hvobj</span> <span class="o">=</span> <span class="n">constants</span><span class="p">[</span><span class="s2">"source"</span><span class="p">]</span>
        <span class="n">include_region</span> <span class="o">=</span> <span class="n">constants</span><span class="p">[</span><span class="s2">"include_region"</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">hvobj</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># source is None</span>
            <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">selection_expr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">region_element</span><span class="o">=</span><span class="kc">None</span><span class="p">,)</span>

        <span class="kn">from</span> <span class="nn">holoviews.core.spaces</span> <span class="kn">import</span> <span class="n">DynamicMap</span>
        <span class="c1"># Import after checking for hvobj None to avoid "sys.meta_path is None"</span>
        <span class="c1"># error on shutdown</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">hvobj</span><span class="p">,</span> <span class="n">DynamicMap</span><span class="p">):</span>
            <span class="n">element</span> <span class="o">=</span> <span class="n">hvobj</span><span class="o">.</span><span class="n">values</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">element</span> <span class="o">=</span> <span class="n">hvobj</span>

        <span class="n">selection_expr</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">bbox</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">region_element</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">stream_value</span> <span class="ow">in</span> <span class="n">stream_values</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">stream_value</span><span class="p">,</span> <span class="n">index_cols</span><span class="o">=</span><span class="n">constants</span><span class="p">[</span><span class="s2">"index_cols"</span><span class="p">])</span>
            <span class="n">selection</span> <span class="o">=</span> <span class="n">element</span><span class="o">.</span><span class="n">_get_selection_expr_for_stream_value</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">selection</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span>

            <span class="n">selection_expr</span><span class="p">,</span> <span class="n">bbox</span><span class="p">,</span> <span class="n">region_element</span> <span class="o">=</span> <span class="n">selection</span>

            <span class="k">if</span> <span class="n">selection_expr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">break</span>

        <span class="k">for</span> <span class="n">expr_transform</span> <span class="ow">in</span> <span class="n">element</span><span class="o">.</span><span class="n">_transforms</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">selection_expr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">selection_expr</span> <span class="o">=</span> <span class="n">expr_transform</span><span class="p">(</span><span class="n">selection_expr</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">selection_expr</span><span class="o">=</span><span class="n">selection_expr</span><span class="p">,</span>
            <span class="n">bbox</span><span class="o">=</span><span class="n">bbox</span><span class="p">,</span>
            <span class="n">region_element</span><span class="o">=</span><span class="n">region_element</span> <span class="k">if</span> <span class="n">include_region</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">source</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Stream</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">fget</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="nd">@source</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="c1"># Unregister old selection streams</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_unregister_input_streams</span><span class="p">()</span>

        <span class="c1"># Set new source</span>
        <span class="n">Stream</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">fset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="c1"># Build selection input streams for new source element</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">input_streams</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_build_selection_streams</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">input_streams</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># Clear current selection expression state</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
            <span class="n">selection_expr</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">bbox</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">region_element</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Register callbacks on input streams</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_register_streams</span><span class="p">(</span><span class="n">input_streams</span><span class="p">)</span></div>


<div class="viewcode-block" id="SelectionExprSequence"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.SelectionExprSequence">[docs]</a><span class="k">class</span> <span class="nc">SelectionExprSequence</span><span class="p">(</span><span class="n">Derived</span><span class="p">):</span>
    <span class="n">selection_expr</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">region_element</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"overwrite"</span><span class="p">,</span>
            <span class="n">include_region</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">include_region</span> <span class="o">=</span> <span class="n">include_region</span>
        <span class="n">sel_expr</span> <span class="o">=</span> <span class="n">SelectionExpr</span><span class="p">(</span>
            <span class="n">source</span><span class="p">,</span> <span class="n">index_cols</span><span class="o">=</span><span class="n">params</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">'index_cols'</span><span class="p">),</span>
            <span class="o">**</span><span class="n">params</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">history_stream</span> <span class="o">=</span> <span class="n">History</span><span class="p">(</span><span class="n">sel_expr</span><span class="p">)</span>
        <span class="n">input_streams</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">history_stream</span><span class="p">]</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">,</span> <span class="n">input_streams</span><span class="o">=</span><span class="n">input_streams</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">constants</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">"source"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">,</span>
            <span class="s2">"mode"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span>
            <span class="s2">"include_region"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">include_region</span><span class="p">,</span>
        <span class="p">}</span>

<div class="viewcode-block" id="SelectionExprSequence.reset"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.SelectionExprSequence.reset">[docs]</a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_streams</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">clear_history</span><span class="p">()</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span></div>

<div class="viewcode-block" id="SelectionExprSequence.transform_function"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.SelectionExprSequence.transform_function">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">transform_function</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">stream_values</span><span class="p">,</span> <span class="n">constants</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">.core.spaces</span> <span class="kn">import</span> <span class="n">DynamicMap</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="n">constants</span><span class="p">[</span><span class="s2">"mode"</span><span class="p">]</span>
        <span class="n">source</span> <span class="o">=</span> <span class="n">constants</span><span class="p">[</span><span class="s2">"source"</span><span class="p">]</span>
        <span class="n">include_region</span> <span class="o">=</span> <span class="n">constants</span><span class="p">[</span><span class="s2">"include_region"</span><span class="p">]</span>

        <span class="n">combined_selection_expr</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">combined_region_element</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">for</span> <span class="n">selection_contents</span> <span class="ow">in</span> <span class="n">stream_values</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">"values"</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">selection_contents</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">selection_expr</span> <span class="o">=</span> <span class="n">selection_contents</span><span class="p">[</span><span class="s1">'selection_expr'</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">selection_expr</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">region_element</span> <span class="o">=</span> <span class="n">selection_contents</span><span class="p">[</span><span class="s1">'region_element'</span><span class="p">]</span>

            <span class="c1"># Update combined selection expression</span>
            <span class="k">if</span> <span class="n">combined_selection_expr</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">mode</span> <span class="o">==</span> <span class="s2">"overwrite"</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s2">"inverse"</span><span class="p">:</span>
                    <span class="n">combined_selection_expr</span> <span class="o">=</span> <span class="o">~</span><span class="n">selection_expr</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">combined_selection_expr</span> <span class="o">=</span> <span class="n">selection_expr</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s2">"intersect"</span><span class="p">:</span>
                    <span class="n">combined_selection_expr</span> <span class="o">&amp;=</span> <span class="n">selection_expr</span>
                <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="s2">"union"</span><span class="p">:</span>
                    <span class="n">combined_selection_expr</span> <span class="o">|=</span> <span class="n">selection_expr</span>
                <span class="k">else</span><span class="p">:</span>  <span class="c1"># inverse</span>
                    <span class="n">combined_selection_expr</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="n">selection_expr</span>

            <span class="c1"># Update region</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">DynamicMap</span><span class="p">):</span>
                <span class="n">el_type</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">type</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">el_type</span> <span class="o">=</span> <span class="n">source</span>

            <span class="n">combined_region_element</span> <span class="o">=</span> <span class="n">el_type</span><span class="o">.</span><span class="n">_merge_regions</span><span class="p">(</span>
                <span class="n">combined_region_element</span><span class="p">,</span> <span class="n">region_element</span><span class="p">,</span> <span class="n">mode</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="n">selection_expr</span><span class="o">=</span><span class="n">combined_selection_expr</span><span class="p">,</span>
            <span class="n">region_element</span><span class="o">=</span><span class="n">combined_region_element</span> <span class="k">if</span> <span class="n">include_region</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="CrossFilterSet"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.CrossFilterSet">[docs]</a><span class="k">class</span> <span class="nc">CrossFilterSet</span><span class="p">(</span><span class="n">Derived</span><span class="p">):</span>
    <span class="n">selection_expr</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Parameter</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selection_streams</span><span class="o">=</span><span class="p">(),</span> <span class="n">mode</span><span class="o">=</span><span class="s2">"intersection"</span><span class="p">,</span> <span class="n">index_cols</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">=</span> <span class="n">mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_index_cols</span> <span class="o">=</span> <span class="n">index_cols</span>
        <span class="n">input_streams</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">selection_streams</span><span class="p">)</span>
        <span class="n">exclusive</span> <span class="o">=</span> <span class="n">mode</span> <span class="o">==</span> <span class="s2">"overwrite"</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">input_streams</span><span class="p">,</span> <span class="n">exclusive</span><span class="o">=</span><span class="n">exclusive</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span>

    <span class="nd">@mode</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">v</span> <span class="o">!=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">=</span> <span class="n">v</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">exclusive</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mode</span> <span class="o">==</span> <span class="s2">"overwrite"</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">constants</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">"mode"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">,</span>
            <span class="s2">"index_cols"</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_index_cols</span>
        <span class="p">}</span>

<div class="viewcode-block" id="CrossFilterSet.reset"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.CrossFilterSet.reset">[docs]</a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">stream</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_streams</span><span class="p">:</span>
            <span class="n">stream</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span></div>

<div class="viewcode-block" id="CrossFilterSet.transform_function"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.CrossFilterSet.transform_function">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">transform_function</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">stream_values</span><span class="p">,</span> <span class="n">constants</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">.util.transform</span> <span class="kn">import</span> <span class="n">dim</span>

        <span class="n">index_cols</span> <span class="o">=</span> <span class="n">constants</span><span class="p">[</span><span class="s2">"index_cols"</span><span class="p">]</span>

        <span class="c1"># Get non-none selection expressions</span>
        <span class="n">selection_exprs</span> <span class="o">=</span> <span class="p">[</span><span class="n">sv</span><span class="p">[</span><span class="s2">"selection_expr"</span><span class="p">]</span> <span class="k">for</span> <span class="n">sv</span> <span class="ow">in</span> <span class="n">stream_values</span><span class="p">]</span>
        <span class="n">selection_exprs</span> <span class="o">=</span> <span class="p">[</span><span class="n">expr</span> <span class="k">for</span> <span class="n">expr</span> <span class="ow">in</span> <span class="n">selection_exprs</span> <span class="k">if</span> <span class="n">expr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">]</span>
        <span class="n">selection_expr</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">selection_exprs</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">index_cols</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">selection_exprs</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">vals</span> <span class="o">=</span> <span class="nb">set</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span>
                        <span class="o">*</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">expr</span><span class="o">.</span><span class="n">ops</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="s1">'args'</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">expr</span> <span class="ow">in</span> <span class="n">selection_exprs</span><span class="p">))</span>
                    <span class="n">old</span> <span class="o">=</span> <span class="n">selection_exprs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="n">selection_expr</span> <span class="o">=</span> <span class="n">dim</span><span class="p">(</span><span class="s1">'new'</span><span class="p">)</span>
                    <span class="n">selection_expr</span><span class="o">.</span><span class="n">dimension</span> <span class="o">=</span> <span class="n">old</span><span class="o">.</span><span class="n">dimension</span>
                    <span class="n">selection_expr</span><span class="o">.</span><span class="n">ops</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">old</span><span class="o">.</span><span class="n">ops</span><span class="p">)</span>
                    <span class="n">selection_expr</span><span class="o">.</span><span class="n">ops</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">selection_expr</span><span class="o">.</span><span class="n">ops</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">vals</span><span class="p">),))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">selection_expr</span> <span class="o">=</span> <span class="n">selection_exprs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">expr</span> <span class="ow">in</span> <span class="n">selection_exprs</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                    <span class="n">selection_expr</span> <span class="o">=</span> <span class="n">selection_expr</span> <span class="o">&amp;</span> <span class="n">expr</span>

        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">selection_expr</span><span class="o">=</span><span class="n">selection_expr</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="LinkedStream"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.LinkedStream">[docs]</a><span class="k">class</span> <span class="nc">LinkedStream</span><span class="p">(</span><span class="n">Stream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A LinkedStream indicates is automatically linked to plot interactions</span>
<span class="sd">    on a backend via a Renderer. Not all backends may support dynamically</span>
<span class="sd">    supplying stream data.</span>
<span class="sd">    """</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">linked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">linked</span><span class="o">=</span><span class="n">linked</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span></div>


<div class="viewcode-block" id="PointerX"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.PointerX">[docs]</a><span class="k">class</span> <span class="nc">PointerX</span><span class="p">(</span><span class="n">LinkedStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A pointer position along the x-axis in data coordinates which may be</span>
<span class="sd">    a numeric or categorical dimension.</span>

<span class="sd">    With the appropriate plotting backend, this corresponds to the</span>
<span class="sd">    position of the mouse/trackpad cursor. If the pointer is outside the</span>
<span class="sd">    plot bounds, the position is set to None.</span>
<span class="sd">    """</span>

    <span class="n">x</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the x-axis in data coordinates"""</span><span class="p">)</span></div>


<div class="viewcode-block" id="PointerY"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.PointerY">[docs]</a><span class="k">class</span> <span class="nc">PointerY</span><span class="p">(</span><span class="n">LinkedStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A pointer position along the y-axis in data coordinates which may be</span>
<span class="sd">    a numeric or categorical dimension.</span>

<span class="sd">    With the appropriate plotting backend, this corresponds to the</span>
<span class="sd">    position of the mouse/trackpad pointer. If the pointer is outside</span>
<span class="sd">    the plot bounds, the position is set to None.</span>
<span class="sd">    """</span>


    <span class="n">y</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the y-axis in data coordinates"""</span><span class="p">)</span></div>


<div class="viewcode-block" id="PointerXY"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.PointerXY">[docs]</a><span class="k">class</span> <span class="nc">PointerXY</span><span class="p">(</span><span class="n">LinkedStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A pointer position along the x- and y-axes in data coordinates which</span>
<span class="sd">    may numeric or categorical dimensions.</span>

<span class="sd">    With the appropriate plotting backend, this corresponds to the</span>
<span class="sd">    position of the mouse/trackpad pointer. If the pointer is outside</span>
<span class="sd">    the plot bounds, the position values are set to None.</span>
<span class="sd">    """</span>

    <span class="n">x</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the x-axis in data coordinates"""</span><span class="p">)</span>

    <span class="n">y</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the y-axis in data coordinates"""</span><span class="p">)</span></div>


<div class="viewcode-block" id="Draw"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Draw">[docs]</a><span class="k">class</span> <span class="nc">Draw</span><span class="p">(</span><span class="n">PointerXY</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A series of updating x/y-positions when drawing, together with the</span>
<span class="sd">    current stroke count</span>
<span class="sd">    """</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the x-axis in data coordinates"""</span><span class="p">)</span>

    <span class="n">y</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the y-axis in data coordinates"""</span><span class="p">)</span>

    <span class="n">stroke_count</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">       The current drawing stroke count. Increments every time a new</span>
<span class="s2">       stroke is started."""</span><span class="p">)</span></div>

<div class="viewcode-block" id="SingleTap"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.SingleTap">[docs]</a><span class="k">class</span> <span class="nc">SingleTap</span><span class="p">(</span><span class="n">PointerXY</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    The x/y-position of a single tap or click in data coordinates.</span>
<span class="sd">    """</span>

    <span class="n">x</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the x-axis in data coordinates"""</span><span class="p">)</span>

    <span class="n">y</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the y-axis in data coordinates"""</span><span class="p">)</span></div>

<div class="viewcode-block" id="Tap"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Tap">[docs]</a><span class="k">class</span> <span class="nc">Tap</span><span class="p">(</span><span class="n">PointerXY</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    The x/y-position of a tap or click in data coordinates.</span>
<span class="sd">    """</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the x-axis in data coordinates"""</span><span class="p">)</span>

    <span class="n">y</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the y-axis in data coordinates"""</span><span class="p">)</span></div>


<div class="viewcode-block" id="DoubleTap"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.DoubleTap">[docs]</a><span class="k">class</span> <span class="nc">DoubleTap</span><span class="p">(</span><span class="n">PointerXY</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    The x/y-position of a double-tap or -click in data coordinates.</span>
<span class="sd">    """</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the x-axis in data coordinates"""</span><span class="p">)</span>

    <span class="n">y</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the y-axis in data coordinates"""</span><span class="p">)</span></div>

<div class="viewcode-block" id="PressUp"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.PressUp">[docs]</a><span class="k">class</span> <span class="nc">PressUp</span><span class="p">(</span><span class="n">PointerXY</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    The x/y position of a mouse pressup event in data coordinates.</span>
<span class="sd">    """</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the x-axis in data coordinates"""</span><span class="p">)</span>

    <span class="n">y</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the y-axis in data coordinates"""</span><span class="p">)</span></div>

<div class="viewcode-block" id="PanEnd"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.PanEnd">[docs]</a><span class="k">class</span> <span class="nc">PanEnd</span><span class="p">(</span><span class="n">PointerXY</span><span class="p">):</span>
    <span class="sd">"""The x/y position of a the end of a pan event in data coordinates.</span>
<span class="sd">    """</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the x-axis in data coordinates"""</span><span class="p">)</span>

    <span class="n">y</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the y-axis in data coordinates"""</span><span class="p">)</span></div>

<div class="viewcode-block" id="MouseEnter"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.MouseEnter">[docs]</a><span class="k">class</span> <span class="nc">MouseEnter</span><span class="p">(</span><span class="n">PointerXY</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    The x/y-position where the mouse/cursor entered the plot area</span>
<span class="sd">    in data coordinates.</span>
<span class="sd">    """</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the x-axis in data coordinates"""</span><span class="p">)</span>

    <span class="n">y</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the y-axis in data coordinates"""</span><span class="p">)</span></div>


<div class="viewcode-block" id="MouseLeave"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.MouseLeave">[docs]</a><span class="k">class</span> <span class="nc">MouseLeave</span><span class="p">(</span><span class="n">PointerXY</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    The x/y-position where the mouse/cursor entered the plot area</span>
<span class="sd">    in data coordinates.</span>
<span class="sd">    """</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the x-axis in data coordinates"""</span><span class="p">)</span>

    <span class="n">y</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="n">pointer_types</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">           Pointer position along the y-axis in data coordinates"""</span><span class="p">)</span></div>


<div class="viewcode-block" id="PlotSize"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.PlotSize">[docs]</a><span class="k">class</span> <span class="nc">PlotSize</span><span class="p">(</span><span class="n">LinkedStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Returns the dimensions of a plot once it has been displayed.</span>
<span class="sd">    """</span>

    <span class="n">width</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"The width of the plot in pixels"</span><span class="p">)</span>

    <span class="n">height</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"The height of the plot in pixels"</span><span class="p">)</span>

    <span class="n">scale</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Number</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">       Scale factor to scale width and height values reported by the stream"""</span><span class="p">)</span>

<div class="viewcode-block" id="PlotSize.transform"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.PlotSize.transform">[docs]</a>    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">'width'</span><span class="p">:</span>  <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">),</span>
                <span class="s1">'height'</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">)}</span></div></div>


<div class="viewcode-block" id="SelectMode"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.SelectMode">[docs]</a><span class="k">class</span> <span class="nc">SelectMode</span><span class="p">(</span><span class="n">LinkedStream</span><span class="p">):</span>

    <span class="n">mode</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ObjectSelector</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s2">"replace"</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">objects</span><span class="o">=</span><span class="p">[</span>
        <span class="s2">"replace"</span><span class="p">,</span> <span class="s2">"append"</span><span class="p">,</span> <span class="s2">"intersect"</span><span class="p">,</span> <span class="s2">"subtract"</span><span class="p">],</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Defines what should happen when a new selection is made. The</span>
<span class="s2">        default is to replace the existing selection. Other options</span>
<span class="s2">        are to append to theselection, intersect with it or subtract</span>
<span class="s2">        from it."""</span><span class="p">)</span></div>


<div class="viewcode-block" id="RangeXY"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.RangeXY">[docs]</a><span class="k">class</span> <span class="nc">RangeXY</span><span class="p">(</span><span class="n">LinkedStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Axis ranges along x- and y-axis in data coordinates.</span>
<span class="sd">    """</span>

    <span class="n">x_range</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Tuple</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">      Range of the x-axis of a plot in data coordinates"""</span><span class="p">)</span>

    <span class="n">y_range</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Tuple</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">      Range of the y-axis of a plot in data coordinates"""</span><span class="p">)</span></div>


<div class="viewcode-block" id="RangeX"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.RangeX">[docs]</a><span class="k">class</span> <span class="nc">RangeX</span><span class="p">(</span><span class="n">LinkedStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Axis range along x-axis in data coordinates.</span>
<span class="sd">    """</span>

    <span class="n">x_range</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Tuple</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">      Range of the x-axis of a plot in data coordinates"""</span><span class="p">)</span></div>


<div class="viewcode-block" id="RangeY"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.RangeY">[docs]</a><span class="k">class</span> <span class="nc">RangeY</span><span class="p">(</span><span class="n">LinkedStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Axis range along y-axis in data coordinates.</span>
<span class="sd">    """</span>

    <span class="n">y_range</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Tuple</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">      Range of the y-axis of a plot in data coordinates"""</span><span class="p">)</span></div>


<div class="viewcode-block" id="BoundsXY"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.BoundsXY">[docs]</a><span class="k">class</span> <span class="nc">BoundsXY</span><span class="p">(</span><span class="n">LinkedStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A stream representing the bounds of a box selection as an</span>
<span class="sd">    tuple of the left, bottom, right and top coordinates.</span>
<span class="sd">    """</span>

    <span class="n">bounds</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Tuple</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                         <span class="n">allow_None</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Bounds defined as (left, bottom, right, top) tuple."""</span><span class="p">)</span></div>


<div class="viewcode-block" id="Lasso"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Lasso">[docs]</a><span class="k">class</span> <span class="nc">Lasso</span><span class="p">(</span><span class="n">LinkedStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A stream representing a lasso selection in 2D space as a two-column</span>
<span class="sd">    array of coordinates.</span>
<span class="sd">    """</span>

    <span class="n">geometry</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Array</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        The coordinates of the lasso geometry as a two-column array."""</span><span class="p">)</span></div>


<div class="viewcode-block" id="SelectionXY"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.SelectionXY">[docs]</a><span class="k">class</span> <span class="nc">SelectionXY</span><span class="p">(</span><span class="n">BoundsXY</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A stream representing the selection along the x-axis and y-axis.</span>
<span class="sd">    Unlike a BoundsXY stream, this stream returns range or categorical</span>
<span class="sd">    selections.</span>
<span class="sd">    """</span>

    <span class="n">bounds</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Tuple</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                         <span class="n">allow_None</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Bounds defined as (left, bottom, right, top) tuple."""</span><span class="p">)</span>

    <span class="n">x_selection</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">),</span> <span class="n">allow_None</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                      <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">      The current selection along the x-axis, either a numerical range</span>
<span class="s2">      defined as a tuple or a list of categories."""</span><span class="p">)</span>

    <span class="n">y_selection</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">ClassSelector</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">),</span> <span class="n">allow_None</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                      <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">      The current selection along the y-axis, either a numerical range</span>
<span class="s2">      defined as a tuple or a list of categories."""</span><span class="p">)</span></div>


<div class="viewcode-block" id="BoundsX"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.BoundsX">[docs]</a><span class="k">class</span> <span class="nc">BoundsX</span><span class="p">(</span><span class="n">LinkedStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A stream representing the bounds of a box selection as an</span>
<span class="sd">    tuple of the left and right coordinates.</span>
<span class="sd">    """</span>

    <span class="n">boundsx</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Tuple</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                          <span class="n">allow_None</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Bounds defined as (left, right) tuple."""</span><span class="p">)</span></div>


<div class="viewcode-block" id="BoundsY"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.BoundsY">[docs]</a><span class="k">class</span> <span class="nc">BoundsY</span><span class="p">(</span><span class="n">LinkedStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A stream representing the bounds of a box selection as an</span>
<span class="sd">    tuple of the bottom and top coordinates.</span>
<span class="sd">    """</span>

    <span class="n">boundsy</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Tuple</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                          <span class="n">allow_None</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Bounds defined as (bottom, top) tuple."""</span><span class="p">)</span></div>


<div class="viewcode-block" id="Selection1D"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.Selection1D">[docs]</a><span class="k">class</span> <span class="nc">Selection1D</span><span class="p">(</span><span class="n">LinkedStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A stream representing a 1D selection of objects by their index.</span>
<span class="sd">    """</span>

    <span class="n">index</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="p">[],</span> <span class="n">allow_None</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Indices into a 1D datastructure."""</span><span class="p">)</span></div>


<div class="viewcode-block" id="PlotReset"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.PlotReset">[docs]</a><span class="k">class</span> <span class="nc">PlotReset</span><span class="p">(</span><span class="n">LinkedStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A stream signalling when a plot reset event has been triggered.</span>
<span class="sd">    """</span>

    <span class="n">resetting</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Boolean</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Whether a reset event is being signalled."""</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="nb">dict</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">transient</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span></div>


<div class="viewcode-block" id="CDSStream"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.CDSStream">[docs]</a><span class="k">class</span> <span class="nc">CDSStream</span><span class="p">(</span><span class="n">LinkedStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    A Stream that syncs a bokeh ColumnDataSource with python.</span>
<span class="sd">    """</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Dict</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Data synced from Bokeh ColumnDataSource supplied as a</span>
<span class="s2">        dictionary of columns, where each column is a list of values</span>
<span class="s2">        (for point-like data) or list of lists of values (for</span>
<span class="s2">        path-like data)."""</span><span class="p">)</span></div>


<div class="viewcode-block" id="PointDraw"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.PointDraw">[docs]</a><span class="k">class</span> <span class="nc">PointDraw</span><span class="p">(</span><span class="n">CDSStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Attaches a PointDrawTool and syncs the datasource.</span>

<span class="sd">    add: boolean</span>
<span class="sd">        Whether to allow adding new Points</span>

<span class="sd">    drag: boolean</span>
<span class="sd">        Whether to enable dragging of Points</span>

<span class="sd">    empty_value: int/float/string/None</span>
<span class="sd">        The value to insert on non-position columns when adding a new polygon</span>

<span class="sd">    num_objects: int</span>
<span class="sd">        The number of polygons that can be drawn before overwriting</span>
<span class="sd">        the oldest polygon.</span>

<span class="sd">    styles: dict</span>
<span class="sd">        A dictionary specifying lists of styles to cycle over whenever</span>
<span class="sd">        a new Point glyph is drawn.</span>

<span class="sd">    tooltip: str</span>
<span class="sd">        An optional tooltip to override the default</span>
<span class="sd">    """</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Dict</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Data synced from Bokeh ColumnDataSource supplied as a</span>
<span class="s2">        dictionary of columns, where each column is a list of values</span>
<span class="s2">        (for point-like data) or list of lists of values (for</span>
<span class="s2">        path-like data)."""</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">empty_value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">drag</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">num_objects</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">styles</span><span class="o">=</span><span class="p">{},</span> <span class="n">tooltip</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add</span> <span class="o">=</span> <span class="n">add</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">drag</span> <span class="o">=</span> <span class="n">drag</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">empty_value</span> <span class="o">=</span> <span class="n">empty_value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_objects</span> <span class="o">=</span> <span class="n">num_objects</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">styles</span> <span class="o">=</span> <span class="n">styles</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tooltip</span> <span class="o">=</span> <span class="n">tooltip</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">styles</span> <span class="o">=</span> <span class="n">styles</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">element</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">source</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">UniformNdMapping</span><span class="p">):</span>
            <span class="n">source</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">last</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">source</span><span class="o">.</span><span class="n">clone</span><span class="p">([],</span> <span class="nb">id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">source</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">dynamic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">.core.spaces</span> <span class="kn">import</span> <span class="n">DynamicMap</span>
        <span class="k">return</span> <span class="n">DynamicMap</span><span class="p">(</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">element</span><span class="p">,</span> <span class="n">streams</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="p">])</span></div>



<div class="viewcode-block" id="CurveEdit"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.CurveEdit">[docs]</a><span class="k">class</span> <span class="nc">CurveEdit</span><span class="p">(</span><span class="n">PointDraw</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Attaches a PointDraw to the plot which allows editing the Curve when selected.</span>

<span class="sd">    style: dict</span>
<span class="sd">        A dictionary specifying the style of the vertices.</span>

<span class="sd">    tooltip: str</span>
<span class="sd">        An optional tooltip to override the default</span>
<span class="sd">    """</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Dict</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Data synced from Bokeh ColumnDataSource supplied as a</span>
<span class="s2">        dictionary of columns, where each column is a list of values</span>
<span class="s2">        (for point-like data) or list of lists of values (for</span>
<span class="s2">        path-like data)."""</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{},</span> <span class="n">tooltip</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">style</span> <span class="ow">or</span> <span class="p">{</span><span class="s1">'size'</span><span class="p">:</span> <span class="mi">10</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tooltip</span> <span class="o">=</span> <span class="n">tooltip</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">PointDraw</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span></div>



<div class="viewcode-block" id="PolyDraw"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.PolyDraw">[docs]</a><span class="k">class</span> <span class="nc">PolyDraw</span><span class="p">(</span><span class="n">CDSStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Attaches a PolyDrawTool and syncs the datasource.</span>

<span class="sd">    drag: boolean</span>
<span class="sd">        Whether to enable dragging of polygons and paths</span>

<span class="sd">    empty_value: int/float/string/None</span>
<span class="sd">        The value to insert on non-position columns when adding a new polygon</span>

<span class="sd">    num_objects: int</span>
<span class="sd">        The number of polygons that can be drawn before overwriting</span>
<span class="sd">        the oldest polygon.</span>

<span class="sd">    show_vertices: boolean</span>
<span class="sd">        Whether to show the vertices when a polygon is selected</span>

<span class="sd">    styles: dict</span>
<span class="sd">        A dictionary specifying lists of styles to cycle over whenever</span>
<span class="sd">        a new Poly glyph is drawn.</span>

<span class="sd">    tooltip: str</span>
<span class="sd">        An optional tooltip to override the default</span>

<span class="sd">    vertex_style: dict</span>
<span class="sd">        A dictionary specifying the style options for the vertices.</span>
<span class="sd">        The usual bokeh style options apply, e.g. fill_color,</span>
<span class="sd">        line_alpha, size, etc.</span>
<span class="sd">    """</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Dict</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Data synced from Bokeh ColumnDataSource supplied as a</span>
<span class="s2">        dictionary of columns, where each column is a list of values</span>
<span class="s2">        (for point-like data) or list of lists of values (for</span>
<span class="s2">        path-like data)."""</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">empty_value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">drag</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">num_objects</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">show_vertices</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">vertex_style</span><span class="o">=</span><span class="p">{},</span> <span class="n">styles</span><span class="o">=</span><span class="p">{},</span>
                 <span class="n">tooltip</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">drag</span> <span class="o">=</span> <span class="n">drag</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">empty_value</span> <span class="o">=</span> <span class="n">empty_value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_objects</span> <span class="o">=</span> <span class="n">num_objects</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_vertices</span> <span class="o">=</span> <span class="n">show_vertices</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vertex_style</span> <span class="o">=</span> <span class="n">vertex_style</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">styles</span> <span class="o">=</span> <span class="n">styles</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tooltip</span> <span class="o">=</span> <span class="n">tooltip</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">element</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">source</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">UniformNdMapping</span><span class="p">):</span>
            <span class="n">source</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">last</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">source</span><span class="o">.</span><span class="n">clone</span><span class="p">([],</span> <span class="nb">id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">kdims</span>
        <span class="n">lookup</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'xs'</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">'ys'</span><span class="p">:</span> <span class="n">y</span><span class="o">.</span><span class="n">name</span><span class="p">}</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[{</span><span class="n">lookup</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span> <span class="n">data</span><span class="p">[</span><span class="n">c</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">}</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]]))]</span>
        <span class="n">datatype</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">datatype</span> <span class="k">if</span> <span class="n">source</span><span class="o">.</span><span class="n">interface</span><span class="o">.</span><span class="n">multi</span> <span class="k">else</span> <span class="p">[</span><span class="s1">'multitabular'</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">source</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">datatype</span><span class="o">=</span><span class="n">datatype</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">dynamic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">.core.spaces</span> <span class="kn">import</span> <span class="n">DynamicMap</span>
        <span class="k">return</span> <span class="n">DynamicMap</span><span class="p">(</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">element</span><span class="p">,</span> <span class="n">streams</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="p">])</span></div>


<div class="viewcode-block" id="FreehandDraw"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.FreehandDraw">[docs]</a><span class="k">class</span> <span class="nc">FreehandDraw</span><span class="p">(</span><span class="n">CDSStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Attaches a FreehandDrawTool and syncs the datasource.</span>

<span class="sd">    empty_value: int/float/string/None</span>
<span class="sd">        The value to insert on non-position columns when adding a new polygon</span>

<span class="sd">    num_objects: int</span>
<span class="sd">        The number of polygons that can be drawn before overwriting</span>
<span class="sd">        the oldest polygon.</span>

<span class="sd">    styles: dict</span>
<span class="sd">        A dictionary specifying lists of styles to cycle over whenever</span>
<span class="sd">        a new freehand glyph is drawn.</span>

<span class="sd">    tooltip: str</span>
<span class="sd">        An optional tooltip to override the default</span>
<span class="sd">    """</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Dict</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Data synced from Bokeh ColumnDataSource supplied as a</span>
<span class="s2">        dictionary of columns, where each column is a list of values</span>
<span class="s2">        (for point-like data) or list of lists of values (for</span>
<span class="s2">        path-like data)."""</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">empty_value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">num_objects</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">styles</span><span class="o">=</span><span class="p">{},</span> <span class="n">tooltip</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">empty_value</span> <span class="o">=</span> <span class="n">empty_value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_objects</span> <span class="o">=</span> <span class="n">num_objects</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">styles</span> <span class="o">=</span> <span class="n">styles</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tooltip</span> <span class="o">=</span> <span class="n">tooltip</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">element</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">source</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">UniformNdMapping</span><span class="p">):</span>
            <span class="n">source</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">last</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">source</span><span class="o">.</span><span class="n">clone</span><span class="p">([],</span> <span class="nb">id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">kdims</span>
        <span class="n">lookup</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'xs'</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">'ys'</span><span class="p">:</span> <span class="n">y</span><span class="o">.</span><span class="n">name</span><span class="p">}</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[{</span><span class="n">lookup</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span> <span class="n">data</span><span class="p">[</span><span class="n">c</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">}</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">cols</span><span class="p">[</span><span class="mi">0</span><span class="p">]]))]</span>
        <span class="k">return</span> <span class="n">source</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">dynamic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">.core.spaces</span> <span class="kn">import</span> <span class="n">DynamicMap</span>
        <span class="k">return</span> <span class="n">DynamicMap</span><span class="p">(</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">element</span><span class="p">,</span> <span class="n">streams</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="p">])</span></div>



<div class="viewcode-block" id="BoxEdit"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.BoxEdit">[docs]</a><span class="k">class</span> <span class="nc">BoxEdit</span><span class="p">(</span><span class="n">CDSStream</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Attaches a BoxEditTool and syncs the datasource.</span>

<span class="sd">    empty_value: int/float/string/None</span>
<span class="sd">        The value to insert on non-position columns when adding a new box</span>

<span class="sd">    num_objects: int</span>
<span class="sd">        The number of boxes that can be drawn before overwriting the</span>
<span class="sd">        oldest drawn box.</span>

<span class="sd">    styles: dict</span>
<span class="sd">        A dictionary specifying lists of styles to cycle over whenever</span>
<span class="sd">        a new box glyph is drawn.</span>

<span class="sd">    tooltip: str</span>
<span class="sd">        An optional tooltip to override the default</span>
<span class="sd">    """</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Dict</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Data synced from Bokeh ColumnDataSource supplied as a</span>
<span class="s2">        dictionary of columns, where each column is a list of values</span>
<span class="s2">        (for point-like data) or list of lists of values (for</span>
<span class="s2">        path-like data)."""</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">empty_value</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">num_objects</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">styles</span><span class="o">=</span><span class="p">{},</span> <span class="n">tooltip</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">empty_value</span> <span class="o">=</span> <span class="n">empty_value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_objects</span> <span class="o">=</span> <span class="n">num_objects</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">styles</span> <span class="o">=</span> <span class="n">styles</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tooltip</span> <span class="o">=</span> <span class="n">tooltip</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">element</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">.element</span> <span class="kn">import</span> <span class="n">Rectangles</span><span class="p">,</span> <span class="n">Polygons</span>
        <span class="n">source</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">source</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">UniformNdMapping</span><span class="p">):</span>
            <span class="n">source</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">last</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">source</span><span class="o">.</span><span class="n">clone</span><span class="p">([])</span>

        <span class="n">dims</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'x0'</span><span class="p">,</span> <span class="s1">'y0'</span><span class="p">,</span> <span class="s1">'x1'</span><span class="p">,</span> <span class="s1">'y1'</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="n">vd</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">vd</span> <span class="ow">in</span> <span class="n">source</span><span class="o">.</span><span class="n">vdims</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">Rectangles</span><span class="p">):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">d</span><span class="p">]</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dims</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">source</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
        <span class="n">paths</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">y1</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">'x0'</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">'x1'</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">'y0'</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">'y1'</span><span class="p">])):</span>
            <span class="n">xs</span> <span class="o">=</span> <span class="p">[</span><span class="n">x0</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x1</span><span class="p">]</span>
            <span class="n">ys</span> <span class="o">=</span> <span class="p">[</span><span class="n">y0</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">y0</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">Polygons</span><span class="p">):</span>
                <span class="n">xs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x0</span><span class="p">)</span>
                <span class="n">ys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y0</span><span class="p">)</span>
            <span class="n">vals</span> <span class="o">=</span> <span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="n">vd</span><span class="o">.</span><span class="n">name</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">vd</span> <span class="ow">in</span> <span class="n">source</span><span class="o">.</span><span class="n">vdims</span><span class="p">]</span>
            <span class="n">paths</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">xs</span><span class="p">,</span> <span class="n">ys</span><span class="p">)</span><span class="o">+</span><span class="nb">tuple</span><span class="p">(</span><span class="n">vals</span><span class="p">))</span>
        <span class="n">datatype</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">datatype</span> <span class="k">if</span> <span class="n">source</span><span class="o">.</span><span class="n">interface</span><span class="o">.</span><span class="n">multi</span> <span class="k">else</span> <span class="p">[</span><span class="s1">'multitabular'</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">source</span><span class="o">.</span><span class="n">clone</span><span class="p">(</span><span class="n">paths</span><span class="p">,</span> <span class="n">datatype</span><span class="o">=</span><span class="n">datatype</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">dynamic</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">.core.spaces</span> <span class="kn">import</span> <span class="n">DynamicMap</span>
        <span class="k">return</span> <span class="n">DynamicMap</span><span class="p">(</span><span class="k">lambda</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">element</span><span class="p">,</span> <span class="n">streams</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="p">])</span></div>



<div class="viewcode-block" id="PolyEdit"><a class="viewcode-back" href="../../reference_manual/holoviews.streams.html#holoviews.streams.PolyEdit">[docs]</a><span class="k">class</span> <span class="nc">PolyEdit</span><span class="p">(</span><span class="n">PolyDraw</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Attaches a PolyEditTool and syncs the datasource.</span>

<span class="sd">    shared: boolean</span>
<span class="sd">        Whether PolyEditTools should be shared between multiple elements</span>

<span class="sd">    tooltip: str</span>
<span class="sd">        An optional tooltip to override the default</span>

<span class="sd">    vertex_style: dict</span>
<span class="sd">        A dictionary specifying the style options for the vertices.</span>
<span class="sd">        The usual bokeh style options apply, e.g. fill_color,</span>
<span class="sd">        line_alpha, size, etc.</span>
<span class="sd">    """</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Dict</span><span class="p">(</span><span class="n">constant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">"""</span>
<span class="s2">        Data synced from Bokeh ColumnDataSource supplied as a</span>
<span class="s2">        dictionary of columns, where each column is a list of values</span>
<span class="s2">        (for point-like data) or list of lists of values (for</span>
<span class="s2">        path-like data)."""</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vertex_style</span><span class="o">=</span><span class="p">{},</span> <span class="n">shared</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shared</span> <span class="o">=</span> <span class="n">shared</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">vertex_style</span><span class="o">=</span><span class="n">vertex_style</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span></div>
</pre></div>
</div>
<!-- Previous / next buttons -->
<div class="prev-next-area">
</div>
</main>
</div>
</div>
<script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
<div class="container">
<div class="footer-item">
<p class="copyright">
    Â© Copyright 2021 HoloViz developers.<br/>
</p>
</div>
<div class="footer-item">
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.1.<br/>
</p>
</div>
</div>
</footer>
</body>
</html>